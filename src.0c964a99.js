parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"clu1":[function(require,module,exports) {

},{}],"hC31":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e="7c8bbc90-8fcc-11ec-afa3-bfe597d9e008";class t{constructor(){this.clients=[]}fetchCurrencyRates(){return fetch(`https://freecurrencyapi.net/api/v2/latest?apikey=${e}`).then(e=>e.json()).then(e=>0===e.data.length?error:e.data)}}exports.default=t;
},{}],"kbLt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.urlAlphabet=void 0;let e="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";exports.urlAlphabet=e;
},{}],"ya15":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"urlAlphabet",{enumerable:!0,get:function(){return e.urlAlphabet}}),exports.random=exports.customRandom=exports.customAlphabet=exports.nanoid=void 0;var e=require("./url-alphabet/index.js");let t=e=>crypto.getRandomValues(new Uint8Array(e));exports.random=t;let r=(e,t,r)=>{let o=(2<<Math.log(e.length-1)/Math.LN2)-1,n=-~(1.6*o*t/e.length);return(l=t)=>{let a="";for(;;){let t=r(n),p=n;for(;p--;)if((a+=e[t[p]&o]||"").length===l)return a}}};exports.customRandom=r;let o=(e,o=21)=>r(e,o,t);exports.customAlphabet=o;let n=(e=21)=>{let t="",r=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let o=63&r[e];t+=o<36?o.toString(36):o<62?(o-26).toString(36).toUpperCase():o<63?"_":"-"}return t};exports.nanoid=n;
},{"./url-alphabet/index.js":"kbLt"}],"BTjC":[function(require,module,exports) {
"use strict";var e=n(require("./api-service")),t=require("nanoid");function n(e){return e&&e.__esModule?e:{default:e}}const c=document.querySelector(".form"),a=document.querySelector(".debitForm"),l=document.querySelector(".creditForm"),r=document.querySelector("#totalFunds"),i=document.querySelector(".totalFunds"),o=new e.default,s=o.clients;c.addEventListener("submit",y),a.addEventListener("submit",v),l.addEventListener("submit",p),r.addEventListener("click",m);const u=document.querySelector(".bankContainer");function d(e){const{id:t,name:n,isActive:c,registrationDate:a}=e;return`\n  <li class="client">\n    <form class="clientForm">\n        <label class="label">\n          Id\n          <input class="input input--bank" type="text" name="id" value=" ${t}" />\n        </label>\n        <label class="label">\n          Name\n          <input class="input input--bank" type="text" name="name" value=" ${n}" />\n        </label>\n\n        <label class="label">\n          Registration date\n          <input class="input input--bank" type="text" name="date" value="${a}" />\n        </label>\n        <label class="label">\n          Is active\n          <input class="input input--bank" type="text" name="isActive" value="${c}" />\n        </label>\n        <button class="btn" id="edit${t}" type="submit">Save</button>\n        <button class=" btn" id="remove${t}" type="button">Delete</button>\n      </form>\n    \n  \n    <h3 class="accounts">Accounts</h3>\n    <ul class="accountsContainer" id="${t}"></ul>\n</li>\n    `}function b(e){return e.map(({balance:e,activity:t,currency:n,registrationDate:c,cardExpiryDate:a})=>`\n    <li class="client">\n    <h4>Debit account</h4>\n    <p class="balance">Balance: ${e}</p>\n    <p class="activity">Activity: ${t}</p>\n    <p class="currency">Currency: ${n}</p>\n    <p class="activityDate">Activity date: ${c}</p>\n    <p class="cardExpiryDate">Card expiry date: ${a}<p>\n</li>\n    `).join("")}function y(e){e.preventDefault();const n=e.currentTarget.elements,a=n.name.value,l=n.date.value,r=n.isActive.value,i=(0,t.nanoid)(),o={id:i,name:a,registrationDate:l,isActive:r,accounts:{debit:[],credit:[]}};s.push(o);const b=d(o);u.insertAdjacentHTML("beforeend",b),document.getElementById(`remove${i}`).addEventListener("click",f),c.reset()}function v(e){e.preventDefault();const t=e.currentTarget.elements,n=t.id.value,c={balance:t.balance.value,activity:t.activity.value,activityDate:t.activityDate.value,cardExpiryDate:t.cardExpiryDate.value,currency:t.currency.value},l=s.find(e=>n==e.id),r=s.indexOf(l);s[r].accounts.debit.push(c);const i=document.getElementById(`${n}`);console.log(i);const o=b(s[r].accounts.debit);i.insertAdjacentHTML("beforeend",o),a.reset()}function p(e){e.preventDefault();const t=e.currentTarget.elements,n=t.id.value,c=t.balance.value,a=t.balance.value,r=t.activity.value,i=t.activityDate.value,o=t.cardExpiryDate.value,u=t.currency.value,d={balance:{personalFunds:c,creditFunds:a},creditLimit:t.creditLimit.value,activity:r,activityDate:i,cardExpiryDate:o,currency:u},b=s.find(e=>n==e.id),y=s.indexOf(b);s[y].accounts.credit.push(d);const v=document.getElementById(`${n}`);console.log(v),l.reset()}function f(e){console.log(e.target),console.log(e.currentTarget.parentNode.parentNode)}async function g(e,t){return e/100*await o.fetchCurrencyRates().then(e=>e[t])}async function m(){try{let t=0;for(let e=0;e<s.length;e++)for(let n=0;n<s[e].accounts.debit.length;n++){let c=s[e].accounts.debit[n];const a=c.balance+c.activity;let l=c.currency;if("USD"===l)t+=a;else{t+=await g(a,l)}}let n=0;for(let e=0;e<s.length;e++)for(let t=0;t<s[e].accounts.credit.length;t++){let c=s[e].accounts.credit[t];const a=c.balance.personalFunds+c.balance.creditFunds+c.creditLimit+c.activity;let l=c.currency;if("USD"===l)n+=a;else{n+=await g(a,l)}}console.log(t+n);const c=t+n;return i.innerText=c.toFixed(2),t+n}catch(e){error({text:"Error.Try again leter."})}}async function h(){try{let t=0;for(let e=0;e<s.length;e++)for(let n=0;n<s[e].accounts.credit.length;n++){let c=s[e].accounts.credit[n],a=0;c.balance.creditFunds>c.balance.personalFunds&&(a=c.balance.creditFunds-c.balance.personalFunds);let l=c.currency;if(console.log(a),"USD"===l)t+=a;else{const e=await g(a,l);console.log(e),t+=e}}return console.log(t),t}catch(e){error({text:"Error.Try again leter."})}}async function D(){try{const t=0;for(let e=0;e<s.length;e++)for(let n=0;n<s[e].accounts.credit.length;n++){let c=s[e].accounts.credit[n],a=0;if(c.balance.creditFunds>c.balance.personalFunds){a+=c.balance.creditFunds-c.balance.personalFunds;let e=c.currency;if(console.log(a),"USD"===e)t+=a;else{const t=await g(a,e);console.log(t)}}}return console.log(t),t}catch(e){error({text:"Error.Try again leter."})}}function F(){let e=0;for(let t=0;t<s.length;t++){let n=!1;for(let e=0;e<s[t].accounts.credit.length;e++){let c=s[t].accounts.credit[e];if(c.balance.creditFunds>c.balance.personalFunds){n=!0;break}}n&&!s[t].isActive&&(e+=1,n=!1)}return console.log(e),e}function x(){let e=0;for(let t=0;t<s.length;t++){let n=!1;for(let e=0;e<s[t].accounts.credit.length;e++){let c=s[t].accounts.credit[e];if(c.balance.creditFunds>c.balance.personalFunds){n=!0;break}}n&&s[t].isActive&&(e+=1,n=!1)}return console.log(e),e}m(),h(),D();
},{"./api-service":"hC31","nanoid":"ya15"}],"Focm":[function(require,module,exports) {
"use strict";require("./sass/main.scss"),require("./js/calculation");
},{"./sass/main.scss":"clu1","./js/calculation":"BTjC"}]},{},["Focm"], null)
//# sourceMappingURL=/bank-project-art/src.0c964a99.js.map